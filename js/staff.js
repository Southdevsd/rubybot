function bySocket(){socket?.timeout(3e3).emitWithAck("staff","get").then(e=>(console.log("[ws]",e),e?.length)?render(e):forceFetch()).catch(e=>(console.log("[ws]",e),forceFetch()))}function forceFetch(){fetch("https://api.saphire.one/staffs",{method:"GET"}).then(e=>e.json()).then(e=>(console.log("[fetch]",e),render(e))).catch(console.log)}function render(e){if(e?.length){for(let t of e){let n=document.getElementById(`Name-${t?.id}`);if(!n)continue;let r=document.getElementById(`Avatar-${t?.id}`);n&&(n.innerHTML=t.global_name||t.username||"No_Name"),r&&t?.avatarUrl&&(r.src=t.avatarUrl)}document.getElementById("spinner")?.remove(),document.getElementById("principalContainerStaff").style.display="grid"}}storage(bySocket);